<script src='https://cdn.jsdelivr.net/npm/clappr@latest/dist/clappr.min.js'></script>
<script src='https://cdn.jsdelivr.net/npm/dash-shaka-playback@latest/dist/dash-shaka-playback.min.js'></script><style>body{margin:0 !important}</style>


   <div style="aspect-ratio: 16/9">
      <div id="player" style="width: 100%; height: 100%;"></div>
   </div>


<script>
    var player = new Clappr.Player({
        source: "https://live-ssar-02.tonton.com.my/1750678904/0xc3f70bbd5a44e0a439c6315f66988273f3eabed07f230aa2bac62205f6dfa2f7/stream-tv3/master_360.m3u8?bpkio_serviceid=6c0958d82a830a02ca0936d9cfab8311&bpkio_sessionid=10c3e14b29-d3c662b0-fbb4-4491-b179-5e45a6b22a4d&category=all&did=c805af0f-6ae7-4228-d581-f0daf71aac53&dnt=0&ifatype=sessionid&lot_auds=ca_756%2Cca_765%2Cca_281%2Cca_959%2Cca_262%2Cca_171%2Cca_072%2Cca_384%2Cca_321%2Cca_041%2Cca_738%2Cca_349%2Cca_300%2Cca_249%2Cca_1022%2Cca_998%2Cca_234%2Cca_317%2Cca_027%2Cca_288%2Cca_583%2Cca_052%2Cca_269%2Cca_331%2Cca_964%2Cca_009%2Cca_135%2Cca_156%2Cca_267%2Cca_328%2Cca_423%2Cca_216%2Cca_346%2Cca_181%2Cca_338%2Cca_165%2Cca_260%2Cca_326%2Cca_365%2Cca_006%2Cca_994%2Cca_1026%2Cca_068%2Cca_212%2Cca_332%2Cca_018%2Cca_766%2Cca_1003%2Cca_047%2Cca_285%2Cca_313%2Cca_381%2Cca_803%2Cca_339%2Cca_286%2Cca_752%2Cca_274%2Cca_355%2Cca_309%2Cca_245%2Cca_196%2Cca_985%2Cca_939%2Cca_146%2Cca_348%2Cca_1096%2Cca_329%2Cca_013%2Cca_049%2Cca_378%2Cca_266%2Cca_316%2Cca_337%2Cca_425%2Cca_162%2Cca_053%2Cca_786%2Cca_315%2Cca_270%2Cca_319%2Cca_070%2Cca_058%2Cca_755%2Cca_054%2Cca_043%2Cca_791%2Cca_276%2Cca_045%2Cca_775%2Cca_797%2Cca_937%2Cca_141%2Cca_1056%2Cca_246%2Cca_253%2Cca_020%2C%2Cca_314%2Cca_272%2Cca_307%2Cca_340%2Cca_342%2Cca_204%2Cca_236%2Cca_022%2Cca_773%2Cca_142%2Cca_1011%2Cca_1034%2Cca_358%2Cca_292%2Cca_336%2Cca_934%2Cca_308%2Cca_282%2Cca_042%2Cca_200%2Cca_161%2Cca_075%2Cca_1007%2Cca_343%2Cca_767%2Cca_334%2Cca_427%2Cca_023%2Cca_441%2Cca_753%2Cca_250%2Cca_074%2Cca_394%2Cca_1027%2Cca_1024%2Cca_350%2Cca_330%2Cca_717%2Cca_958%2Cca_968%2Cca_264%2Cca_325%2Cca_275%2Cca_038%2Cca_672%2Cca_232%2Cca_301%2Cca_268%2Cca_067%2Cca_044%2Cca_777%2Cca_291%2Cca_323%2Cca_069%2Cca_359%2Cca_909%2Cca_261%2Cca_780%2Cca_347%2Cca_807%2Cca_1000%2Cca_060%2Cca_273%2Cca_231%2Cca_416%2Cca_219%2Cca_233%2Cca_782%2Cca_224%2Cca_252%2Cca_1035%2Cca_257%2Cca_790%2Cca_897%2Cca_771%2Cca_324%2Cca_420%2Cca_066%2Cca_1101%2Cca_419%2Cca_263%2Cca_948%2Cca_186%2Cca_299%2Cca_256%2Cca_215%2Cca_364%2Cca_724%2Cca_320%2Cca_293%2Cca_152%2Cca_015%2Cca_021%2Cca_1023%2Cca_226%2Cca_787%2Cca_957%2Cca_1015%2Cca_972%2Cca_312%2Cca_172%2Cca_353%2Cca_248%2Cca_187%2Cca_357%2Cca_351%2Cca_134%2Cca_213%2Cca_831%2Cca_310%2Cca_239%2Cca_080%2Cca_296%2Cca_376%2Cca_046%2Cca_424%2Cca_335%2Cca_209%2Cca_170%2Cca_1020%2Cca_764%2Cca_062%2Cca_322%2Cca_303%2Cca_163%2Cca_242%2Cca_304%2Cca_898%2Cca_789%2Cca_991%2Cca_318%2Call%2Cca_265%2Cca_1028%2Cca_238%2Cca_188%2Cca_362%2Cca_012%2Cca_040%2Cca_341%2Cca_360%2Cca_280%2Cca_061%2Cca_1006%2Cca_217%2Cca_295%2Cca_050%2Cca_354%2Cca_750%2Cca_363%2Cca_311%2Cca_721%2Cca_344%2Cca_987%2Cca_730%2Cca_073%2Cca_736%2Cca_356%2Cca_305%2Cca_302%2Cca_201%2Cca_133%2Cca_277%2Cca_788%2Cca_1040%2Cca_048%2Cca_243%2Cca_136%2Cca_289%2Cca_051%2Cca_143%2Cca_014&mm_sp&plt=web&ttd_uid2=A4AAABJ9HmIQQRglFYJli1kbypu9kPcEN8-FaOT2snYlQNU2HttXLYDf2yIbNuE4bkQW6-3YO95B89AH6k2GgXFR-nDIAcrSV8Tk_jCFoGLVAd2y7Euq_asfH1otywceFK6y71kE7fMvNPtCmG6kclrkWvmriyghuInlB9p2axcUbsySzM6OCIUqdcXYSkDdkgOTNLuXSAfdUKlSpjpN5HhLoQ", // Sumber default
        plugins: { playback: [DashShakaPlayback] },
        parentId: "#player",
        width: "100%",
        height: "100%",
        autoPlay: true,
        poster: "",
        shakaConfiguration: {
            drm: {
                clearKeys: {
                    // Tambahkan kunci ClearKey Anda di sini
                 '22489b3a6322ce3a811f313c47f3d842': '3579e944fc146d9d3702f419c53fb55d',
                 '7de0fa3c35f52f8a8517f1600dd11ed7': '2d59cf94d10020aeee01a97cd0716eea',
                 'e60ece8f0d9042fcb52508055ec48e5e': '213f438bd4961cda987d41b7f154f1e5',
                 'e6ed3fdf6e9f491d9ead109fc0b00cfc': '3bc6c45722eb5fa7b343de9bffc4f7c7'
                }
            }
        }
    });

  var fallbackSource = "https://linearjitp-playback.astro.com.my/dash-wv/linear/809/default_primary.mpd"; // Sumber fallback
   // var fallbackSource = "https://cdn-cf-east.streamable.com/video/mp4/n9h1w1.mp4?Expires=1725509180205&Key-Pair-Id=APKAIEYUVEN4EVB2OKEQ&Signature=LVJCDQanhYiY6tDkbKFDVKWUcXDSKFSsq0Bt15apW0Nlu5o7Exb5lkPcGLCfR1tArrTUUWA9wY43rAXyzoMtTi1IgjaIdOPPXsEqZF7vQh2r75AyKL5Q5XdyN84Shp4AdWFps0~3p0QR1DJaWY2aaAC8SMCnMXJJq10mtVMYoLCElZw3pdpkHXmaCs4~MUa2fmXjrYMzOt35lUZSnFke~0wsH-5luFHlVsejWEmWSxIN8xgL8PHAgnoWDy1I1QcKsHA5LAahmQ-zX4wCKfhTgVlH~EZBxtyYDuaNdqmTWwSYNRyjIwNw6dXuWe4So7KKVCck2RjB3E-IjNu0CwNEvg__"; // Sumber fallback

    player.on(Clappr.Events.PLAYER_ERROR, function() {
        // Jika terjadi kesalahan, muat sumber fallback
        player.load(fallbackSource);
    });

    document.querySelectorAll('.channel').forEach(function(channel) {
        channel.addEventListener('click', function() {
            var source = this.getAttribute('data-value');
            var fallback = this.getAttribute('data-fallback');
            player.load(source);

            player.once(Clappr.Events.PLAYER_ERROR, function() {
                // Jika terjadi kesalahan, muat sumber fallback
                player.load(fallback);
            });
        });
    });

    function onFullScreenChange() {
        if (document.fullscreenElement || document.webkitFullscreenElement || document.mozFullScreenElement || document.msFullscreenElement) {
            // Memasuki mode layar penuh
            if (screen.orientation && screen.orientation.lock) {
                screen.orientation.lock('landscape');
            }
        } else {
            // Keluar dari mode layar penuh
            if (screen.orientation && screen.orientation.unlock) {
                screen.orientation.unlock();
            }
        }
    }

    document.addEventListener('fullscreenchange', onFullScreenChange);
    document.addEventListener('webkitfullscreenchange', onFullScreenChange);
    document.addEventListener('mozfullscreenchange', onFullScreenChange);
    document.addEventListener('MSFullscreenChange', onFullScreenChange);
</script>
